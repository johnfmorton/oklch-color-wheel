{"version":3,"file":"OklchColorWheel.js","sourceRoot":"","sources":["../../src/OklchColorWheel.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,IAAI,EAAE,GAAG,EAAE,UAAU,EAAE,MAAM,KAAK,CAAC;AAC5C,OAAO,EAAE,QAAQ,EAAE,KAAK,EAAE,MAAM,mBAAmB,CAAC;AAEpD,SAAS,uBAAuB,CAAC,CAAS,EAAE,CAAS,EAAE,KAAa;IAClE,MAAM,IAAI,GAAG,GAAG,GAAG,KAAK,CAAC;IACzB,MAAM,KAAK,GAAG,EAAE,CAAC;IACjB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,EAAE,CAAC,EAAE,EAAE,CAAC;QAC/B,MAAM,KAAK,GAAG,CAAC,GAAG,IAAI,CAAC;QACvB,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,KAAK,QAAQ,KAAK,KAAK,CAAC,CAAC;IACzD,CAAC;IACD,+BAA+B;IAC/B,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;IAC7C,OAAO,8BAA8B,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC;AAC3D,CAAC;AAED,MAAM,OAAO,eAAgB,SAAQ,UAAU;IAA/C;;QAkD8B,WAAM,GAAG,mBAAmB,CAAC;QAExC,QAAG,GAAW,CAAC,CAAC;QACzB,WAAM,GAAG,GAAG,CAAC;QACb,cAAS,GAAG,KAAK,CAAC;QAsBlB,eAAU,GAAG,CAAC,KAA8B,EAAE,EAAE;YACtD,KAAK,CAAC,cAAc,EAAE,CAAC;YACvB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;YACtB,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;YAEhC,MAAM,WAAW,GAAG,CAAC,CAA0B,EAAE,EAAE,CACjD,IAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC,CAAC;YAC9B,MAAM,UAAU,GAAG,GAAG,EAAE;gBACtB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;gBACvB,MAAM,CAAC,mBAAmB,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC;gBACrD,MAAM,CAAC,mBAAmB,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC;gBAClD,MAAM,CAAC,mBAAmB,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC;gBACrD,MAAM,CAAC,mBAAmB,CAAC,UAAU,EAAE,UAAU,CAAC,CAAC;YACrD,CAAC,CAAC;YAEF,MAAM,CAAC,gBAAgB,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC;YAClD,MAAM,CAAC,gBAAgB,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC;YAC/C,MAAM,CAAC,gBAAgB,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC;YAClD,MAAM,CAAC,gBAAgB,CAAC,UAAU,EAAE,UAAU,CAAC,CAAC;QAClD,CAAC,CAAC;IAgFJ,CAAC;IAvHS,mBAAmB,CAAC,KAA8B;QACxD,IAAI,CAAC,IAAI,CAAC,SAAS;YAAE,OAAO;QAE5B,MAAM,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QACjD,IAAI,CAAC,GAAG;YAAE,OAAO;QAEjB,MAAM,IAAI,GAAG,GAAG,CAAC,qBAAqB,EAAE,CAAC;QACzC,MAAM,OAAO,GACX,KAAK,YAAY,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC;QACzE,MAAM,OAAO,GACX,KAAK,YAAY,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC;QAEzE,oCAAoC;QACpC,MAAM,EAAE,GAAG,OAAO,GAAG,CAAC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;QAClD,MAAM,EAAE,GAAG,OAAO,GAAG,CAAC,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;QAElD,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,EAAE,EAAE,EAAE,CAAC,GAAG,CAAC,GAAG,GAAG,IAAI,CAAC,EAAE,CAAC,CAAC;QACnD,IAAI,CAAC,GAAG,GAAG,CAAC,KAAK,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC;IACjC,CAAC;IAuBD,MAAM;QACJ,MAAM,QAAQ,GAAG,CAAC,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC;QAC5C,MAAM,OAAO,GAAG,GAAG,GAAG,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QACvD,MAAM,OAAO,GAAG,GAAG,GAAG,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QAEvD,MAAM,QAAQ,GAAG,uBAAuB,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE,CAAC,CAAC;QAEvD,OAAO,IAAI,CAAA;;;YAGH,IAAI,CAAC,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;mBAyBJ,IAAI,CAAC,MAAM;sCACQ,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;;;;;2BAK9B,IAAI,CAAC,UAAU;4BACd,IAAI,CAAC,UAAU;;;;qBAItB,OAAO;qBACP,OAAO;;;;;gCAKI,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;;;;;;;;;;;;;;;;wCAgBX,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;;;;yCAIlB,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;;;;KAIvD,CAAC;IACJ,CAAC;;AA7KM,sBAAM,GAAG,GAAG,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GA+ClB,AA/CY,CA+CX;AAE0B;IAA3B,QAAQ,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;+CAA8B;AAExC;IAAhB,KAAK,EAAE;4CAAyB;AA6HnC,cAAc,CAAC,MAAM,CAAC,mBAAmB,EAAE,eAAe,CAAC,CAAC","sourcesContent":["import { html, css, LitElement } from 'lit';\nimport { property, state } from 'lit/decorators.js';\n\nfunction buildOklchConicGradient(l: number, c: number, steps: number) {\n  const step = 360 / steps;\n  const stops = [];\n  for (let i = 0; i < steps; i++) {\n    const angle = i * step;\n    stops.push(`oklch(${l} ${c} ${angle}deg) ${angle}deg`);\n  }\n  // Ensure it loops fully at 360\n  stops.push(`oklch(${l} ${c} 360deg) 360deg`);\n  return `conic-gradient(from 90deg, ${stops.join(', ')})`;\n}\n\nexport class OklchColorWheel extends LitElement {\n  static styles = css`\n    :host {\n      display: block;\n      padding: 0rem;\n      touch-action: none;\n      font-family: 'Arial', sans-serif;\n    }\n    .wrapper {\n      display: block;\n      border: 1px solid #ccc;\n      border-radius: 4px;\n      padding: 0rem;\n\n    }\n    svg {\n      width: 300px;\n      height: 300px;\n      display: block;\n      margin: 0 auto;\n    }\n\n    .handle {\n      fill: white;\n      stroke: black;\n      stroke-width: 2;\n      cursor: pointer;\n    }\n\n    .degree {\n      position: absolute;\n      width: 200px;\n      height: 200px;\n      top: 50%;\n      left: calc(50% + 22px);\n      transform: translate(-50%, -50%);\n      font-size: 1.2rem;\n      pointer-events: none; /* optional to allow clicks through */\n      text-align: center;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      color: white;\n      font-family: ui-monospace, 'Cascadia Code', 'Source Code Pro', Menlo,\n        Consolas, 'DejaVu Sans Mono', monospace;\n      font-weight: bold;\n      font-size: 4.5rem;\n    }\n  `;\n\n  @property({ type: String }) header = 'OKLCH Color Wheel';\n\n  @state() private hue: number = 0;\n  private radius = 138;\n  private _dragging = false;\n\n  private _updateHueFromEvent(event: MouseEvent | TouchEvent) {\n    if (!this._dragging) return;\n\n    const svg = this.renderRoot.querySelector('svg');\n    if (!svg) return;\n\n    const rect = svg.getBoundingClientRect();\n    const clientX =\n      event instanceof TouchEvent ? event.touches[0].clientX : event.clientX;\n    const clientY =\n      event instanceof TouchEvent ? event.touches[0].clientY : event.clientY;\n\n    // Offset from the center of the SVG\n    const dx = clientX - (rect.left + rect.width / 2);\n    const dy = clientY - (rect.top + rect.height / 2);\n\n    const angle = Math.atan2(dy, dx) * (180 / Math.PI);\n    this.hue = (angle + 360) % 360;\n  }\n\n  private _startDrag = (event: MouseEvent | TouchEvent) => {\n    event.preventDefault();\n    this._dragging = true;\n    this._updateHueFromEvent(event);\n\n    const moveHandler = (e: MouseEvent | TouchEvent) =>\n      this._updateHueFromEvent(e);\n    const endHandler = () => {\n      this._dragging = false;\n      window.removeEventListener('mousemove', moveHandler);\n      window.removeEventListener('mouseup', endHandler);\n      window.removeEventListener('touchmove', moveHandler);\n      window.removeEventListener('touchend', endHandler);\n    };\n\n    window.addEventListener('mousemove', moveHandler);\n    window.addEventListener('mouseup', endHandler);\n    window.addEventListener('touchmove', moveHandler);\n    window.addEventListener('touchend', endHandler);\n  };\n\n  render() {\n    const angleRad = (this.hue * Math.PI) / 180;\n    const handleX = 150 + this.radius * Math.cos(angleRad);\n    const handleY = 150 + this.radius * Math.sin(angleRad);\n\n    const gradient = buildOklchConicGradient(0.5, 0.2, 36);\n\n    return html`\n      <div class=\"wrapper\">\n        <h2 style=\"text-align:center; margin:1rem 0 0.25rem 0; padding:0;\">\n          ${this.header}\n        </h2>\n        <div\n          style=\"text-align:center; font-size:0.9rem; margin-bottom:0; color:#666;\"\n        >\n          Drag the white circle to change the degree.\n        </div>\n        <div\n          class=\"outer-wheel\"\n          style=\"\n          width: 300px;\n          height: 300px;\n          border-radius: 0%;\n          margin: 0 auto;\n          position: relative;\n        \"\n        >\n          <svg\n            width=\"300\"\n            height=\"300\"\n            style=\"position: absolute; top: 0; left: 0\"\n          >\n            <circle\n              cx=\"150\"\n              cy=\"150\"\n              r=\"${this.radius}\"\n              fill=\"oklch(50.0% 0.2 ${this.hue.toFixed(0)})\"\n              stroke=\"transparent\"\n            />\n            <g\n              class=\"handle-group\"\n              @mousedown=${this._startDrag}\n              @touchstart=${this._startDrag}\n            >\n              <circle\n                class=\"handle\"\n                cx=${handleX}\n                cy=${handleY}\n                r=\"10\"\n              ></circle>\n            </g>\n          </svg>\n          <div class=\"degree\">${this.hue.toFixed(0)}Â°</div>\n        </div>\n\n        <div\n          style=\"text-align: center; margin-bottom: 1rem; font-weight:bold; font-family: ui-monospace, 'Cascadia Code', 'Source Code Pro', Menlo, Consolas, 'DejaVu Sans Mono', monospace;\"\n        >\n          <div\n            style=\"\n        display: inline-block;\n        position: relative;\n        left: -3px;\n        top: 2px;\n          width: 12px;\n          height: 12px;\n          margin-top: 1rem;\n          border: 1px solid #ccc;\n          background: oklch(50.0% 0.2 ${this.hue.toFixed(0)});\n          \"\n          ></div>\n          <span style=\"color: #767676;\">oklch(&nbsp;50.0%&nbsp;0.200</span>\n          <span style=\"color:#393939;\">${this.hue.toFixed(0)}</span>\n          <span style=\"color: #767676;\">)</span>\n        </div>\n      </div>\n    `;\n  }\n}\n\ncustomElements.define('oklch-color-wheel', OklchColorWheel);\n"]}